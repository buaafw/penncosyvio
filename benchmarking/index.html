<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Benchmarking - PennCOSYVIO Data Set</title>
    <meta name="generator" content="Hugo 0.16-DEV" />

    
    <meta name="description" content="A data set for Visual Inertial Odometry.">
    
    <link rel="canonical" href="https://daniilidis-group.github.io/penncosyvio/benchmarking/">
    
    <meta name="author" content="Bernd Pfrommer">
    

    <meta property="og:url" content="https://daniilidis-group.github.io/penncosyvio/benchmarking/">
    <meta property="og:title" content="PennCOSYVIO Data Set">
    <meta property="og:image" content="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">
    <meta name="apple-mobile-web-app-title" content="PennCOSYVIO Data Set">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">
    <link rel="icon" type="image/x-icon" href="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.eot?52m981');
        src: url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.woff?52m981')
               format('woff'),
             url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/application.css">
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/tweaks.css">
    
    <script src="https://daniilidis-group.github.io/penncosyvio/javascripts/modernizr.js"></script>
    <script type="text/javascript"
	    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { 
      preferredFont: "TeX", 
      availableFonts: ["STIX","TeX"], 
      styles: {".MathJax": {color: "#000 !important"}} 
      }
});
</script>
$
\newcommand{\cc}[1]{\color{black}{#1}}
\newcommand{\mvec}[1]{\mathbf{#1}}
\newcommand{\cvec}[2]{^\mathrm{#2}\mathbf{#1}}
\newcommand{\ctrans}[3]{^\mathrm{#3}\mathbf{#1}_\mathrm{#2}}
\newcommand{\rmat}[9]{\cc{\begin{bmatrix}{#1}&{#2}&{#3}\\\ {#4}&{#5}&{#6}\\\ {#7}&{#8}&{#9}\end{bmatrix}}}
\newcommand{\hmat}[3]{\cc{\begin{bmatrix}{#1}\\\ {#2}\\\ {#3}\\\ \end{bmatrix}}}
\newcommand{\mq}[4]{\cc{\begin{bmatrix}{#1}&{#2}&{#3}&{#4} \end{bmatrix}}}
\newcommand{\nvec}[3]{\cc{\begin{bmatrix}{#1}&{#2}&{#3} \end{bmatrix}}}
\newcommand{\vvec}[3]{\cc{\begin{bmatrix}{#1}\\\ {#2}\\\ {#3}\end{bmatrix}}}
\newcommand{\vvt}[2]{\cc{\begin{bmatrix}{#1}\\\ {#2}\end{bmatrix}}}
\newcommand{\calmat}[4]{\cc{\begin{bmatrix}{#1}&0&{#3}\\\ 0&{#2}&{#4}\end{bmatrix}}}
\newcommand{\dp}{^{\prime\prime}}
$

    

  </head>
  <body class="palette-primary-blue palette-accent-light-green">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="headtitle">
    <div class="stretch">
      <div class="title">
        Benchmarking
      </div>
    </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/berndpfrommer" title="@berndpfrommer on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://daniilidis-group.github.io/penncosyvio/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">
        </div>
      
      <div class="name">
        <strong>PennCOSYVIO Data Set </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Overview" href="https://daniilidis-group.github.io/penncosyvio/">
	
	Overview
</a>


  
</li>



<li>
  
    



<a  title="Download" href="https://daniilidis-group.github.io/penncosyvio/download/">
	
	Download
</a>


  
</li>



<li>
  
    



<a  title="File Format" href="https://daniilidis-group.github.io/penncosyvio/file_format">
	
	File Format
</a>


  
</li>



<li>
  
    



<a  title="Intrinsic Calibration" href="https://daniilidis-group.github.io/penncosyvio/intrinsic_calib/">
	
	Intrinsic Calibration
</a>


  
</li>



<li>
  
    



<a  title="Extrinsic Calibration" href="https://daniilidis-group.github.io/penncosyvio/extrinsic_calib/">
	
	Extrinsic Calibration
</a>


  
</li>



<li>
  
    



<a class="current" title="Benchmarking" href="https://daniilidis-group.github.io/penncosyvio/benchmarking/">
	
	Benchmarking
</a>


<ul id="scrollspy">
</ul>

  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/berndpfrommer" target="_blank" title="@berndpfrommer on GitHub">
              @berndpfrommer on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Benchmarking </h1>

			

<h2 id="compiling-and-using-the-benchmarking-tools">Compiling and using the benchmarking tools</h2>

<p>The benchmarking tool uses the c++ and GSL library. On Ubuntu, the GSL
library can be installed via <code>sudo apt-get install gsl-bin
libgs10-dev</code>, and obviously you need the g++ compiler and <code>make</code> to be
installed. To compile the code:</p>

<pre><code class="language-nohighlight">cd tools/cpp
make
</code></pre>

<p>This should produce (among others) the <code>test_trajectory</code> executable,
which you can use to evaluate the error of a trajectory. As an
example, here is how to use the program (<code>test_trajectory -h</code> gives
options to allow scaling etc) to test the output from Tango Bottom&rsquo;s
proprietary VIO algorithm. You need to download the Tango Bottom data
for that to work.</p>

<pre><code class="language-nohighlight">./test_trajectory -r ../../data/ground_truth/af/pose.txt -t ../../data/tango_bottom/af/pose.txt
read 2885 poses from ../../data/ground_truth/af/pose.txt
read 9596 poses from ../../data/tango_bottom/af/pose.txt
*not* scaling by scale 1.1144
alignment transform: 
[               1  1.24075825e-05 -1.12979008e-05  -0.00269686406
   -1.2406981e-05     0.999999999  5.32406084e-05  -0.00113532707
   1.12985614e-05 -5.32404682e-05     0.999999999  0.000683608497]

---------------------------- 
length of reference trajectory: 148.844m
length of test trajectory:      169.189m
---------------------------- 
--- Average Trajectory Error:
 rotational error: 1.2967deg
 error in x:  0.715m
 error in y:  0.172m
 error in z:  1.753m
 2d error in x/y plane:  0.908m
 3d positional error:    2.497m
--- Relative Position Error:
 rotational error: 1.5382deg
 error in x:  2.812%
 error in y:  1.203%
 error in z:  8.864%
 2d error in x/y plane:  4.746%
 3d positional error:   13.114%
</code></pre>

<h2 id="visualizing-results">Visualizing results</h2>

<p>Matlab scripts to visualize trajectories are provided in the matlab
directory. They take files as input that have pose sequences
(trajectories) in the standard format used throughout. Here is how to
visualize the Tango poses vs the ground truth in Matlab:</p>

<pre><code><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span style="color: #f92672">&gt;&gt;</span> <span style="color: #f8f8f2">cd</span> <span style="color: #f8f8f2">tools</span><span style="color: #f92672">/</span><span style="color: #f8f8f2">matlab</span>
<span style="color: #f92672">&gt;&gt;</span> <span style="color: #f8f8f2">p1</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">read_trajectory(</span><span style="color: #e6db74">&#39;../../data/ground_truth/as/pose.txt&#39;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f92672">&gt;&gt;</span> <span style="color: #f8f8f2">p2</span> <span style="color: #f8f8f2">=</span> <span style="color: #f8f8f2">read_trajectory(</span><span style="color: #e6db74">&#39;../../data/tango_bottom/as/pose.txt&#39;</span><span style="color: #f8f8f2">);</span>
<span style="color: #f92672">&gt;&gt;</span> <span style="color: #f8f8f2">view_trajectories({p1,p2},</span> <span style="color: #e6db74">&#39;../misc/tags.txt&#39;</span><span style="color: #f8f8f2">);</span>
</pre></div>

</code></pre>

<p>The result should be a picture like this:<br/>
<img src="../pics/view_trajectories.jpg"><br/></p>


			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://daniilidis-group.github.io/penncosyvio/" title="The PennCOSYVIO Data Set">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              The PennCOSYVIO Data Set
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://daniilidis-group.github.io/penncosyvio/download/" title="Download">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Download
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://daniilidis-group.github.io/penncosyvio/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;
            
            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }
        

        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
