<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Extrinsic Calibration - PennCOSYVIO Data Set</title>
    <meta name="generator" content="Hugo 0.16-DEV" />

    
    <meta name="description" content="A data set for Visual Inertial Odometry.">
    
    <link rel="canonical" href="https://daniilidis-group.github.io/penncosyvio/extrinsic_calib/">
    
    <meta name="author" content="Bernd Pfrommer">
    

    <meta property="og:url" content="https://daniilidis-group.github.io/penncosyvio/extrinsic_calib/">
    <meta property="og:title" content="PennCOSYVIO Data Set">
    <meta property="og:image" content="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">
    <meta name="apple-mobile-web-app-title" content="PennCOSYVIO Data Set">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">
    <link rel="icon" type="image/x-icon" href="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.eot?52m981');
        src: url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.woff?52m981')
               format('woff'),
             url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://daniilidis-group.github.io/penncosyvio/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/application.css">
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://daniilidis-group.github.io/penncosyvio/tweaks.css">
    
    <script src="https://daniilidis-group.github.io/penncosyvio/javascripts/modernizr.js"></script>
    <script type="text/javascript"
	    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { 
      preferredFont: "TeX", 
      availableFonts: ["STIX","TeX"], 
      styles: {".MathJax": {color: "#000 !important"}} 
      }
});
</script>

    

  </head>
  <body class="palette-primary-blue palette-accent-light-green">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="headtitle">
    <div class="stretch">
      <div class="title">
        Extrinsic Calibration
      </div>
    </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/berndpfrommer" title="@berndpfrommer on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://daniilidis-group.github.io/penncosyvio/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://daniilidis-group.github.io/penncosyvio/upenn_favicon.jpg">
        </div>
      
      <div class="name">
        <strong>PennCOSYVIO Data Set </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Overview" href="https://daniilidis-group.github.io/penncosyvio/">
	
	Overview
</a>


  
</li>



<li>
  
    



<a  title="Download" href="https://daniilidis-group.github.io/penncosyvio/download/">
	
	Download
</a>


  
</li>



<li>
  
    



<a  title="Intrinsic Calibration" href="https://daniilidis-group.github.io/penncosyvio/intrinsic_calib/">
	
	Intrinsic Calibration
</a>


  
</li>



<li>
  
    



<a class="current" title="Extrinsic Calibration" href="https://daniilidis-group.github.io/penncosyvio/extrinsic_calib/">
	
	Extrinsic Calibration
</a>


<ul id="scrollspy">
</ul>

  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/berndpfrommer" target="_blank" title="@berndpfrommer on GitHub">
              @berndpfrommer on GitHub
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Extrinsic Calibration </h1>

			

<h2 id="rig-and-coordinate-system-conventions">Rig and Coordinate System Conventions</h2>

<p><img src="../pics/rig.jpg" width="500"></p>

<p>All sensors are extrinsically calibrated with respect to the rig body (B) reference frame (which coincides with the center GoPro C2 camera). For each sensor we give the transform <B>T</B> from the rig coordinate system to the sensor coordinate system. A left superscript indicates the coordinate system in which vectors are expressed, i.e. <SUP>C1</SUP><B>X</B> are the coordinates of vector <B>X</B> in the reference frame of camera C1. The transform <SUP>S2</SUP> <B>T</B><SUB>S1</SUB> takes a vector expressed in coordinate system S1 and transforms it to system S2: <SUP>S2</SUP><B>X</B> = <SUP>S2</SUP><B>T</B><SUB>S1</SUB> <SUP>S1</SUP><B>X</B>. For example, given coordinates in the rig reference frame (B), the ones in camera C1 can be obtained via:
<p><SUP>C1</SUP><B>X</B> = <SUP>C1</SUP><B>T</B><SUB>B</SUB> <SUP>B</SUP><B>X</B></p>

<h2 id="transformations-in-matrix-form">Transformations in Matrix Form</h2>

<p>In the below table, the transform T can be expressed as a 3x4 transformation matrix:</p>
<p><B>T</B> = [<B>R</B>, <B>t</B>]</p>
<p>where <B>t</B> is a 3x1 translation vector, and <B>R</B> is a pure rotation.
Note that the translation vector <B>t</B> is expressed in meters, and is given in the coordinate system of the sensor.
</p>

<table>
<tr>
<td>Sensor</td><td>Transform</td><td colspan="4" class="tdcenter" align="center"><B>T</B></td></tr>
<tr><td rowspan="3">GoPro C1</td><td rowspan="3"><SUP>C1</SUP><B>T</B><SUB>B</SUB></td><td>    0.2961304418</td><td>    0.0011052645</td><td>    0.9551468682</td><td>  0.082674</td></tr>
<td>    0.0191451276</td><td>    0.9997915577</td><td>   -0.0070926152</td><td>  0.002503</td></tr>
<td>   -0.9549556144</td><td>    0.0203867479</td><td>    0.2960475553</td><td> -0.127252</td></tr>
<tr><td rowspan="3">GoPro C2</td><td rowspan="3"><SUP>C2</SUP><B>T</B><SUB>B</SUB></td><td>    1.0000000000</td><td>    0.0000000000</td><td>    0.0000000000</td><td>  0.000000</td></tr>
<td>    0.0000000000</td><td>    1.0000000000</td><td>    0.0000000000</td><td>  0.000000</td></tr>
<td>    0.0000000000</td><td>    0.0000000000</td><td>    1.0000000000</td><td>  0.000000</td></tr>
<tr><td rowspan="3">GoPro C3</td><td rowspan="3"><SUP>C3</SUP><B>T</B><SUB>B</SUB></td><td>    0.2251883426</td><td>   -0.0049445900</td><td>   -0.9743027052</td><td> -0.039557</td></tr>
<td>    0.0047482257</td><td>    0.9999808169</td><td>   -0.0039774600</td><td> -0.000781</td></tr>
<td>    0.9743036820</td><td>   -0.0037305315</td><td>    0.2252075009</td><td> -0.157049</td></tr>
<tr><td rowspan="3">Tango Bottom RGB</td><td rowspan="3"><SUP>TBR</SUP><B>T</B><SUB>B</SUB></td><td>    0.9986085337</td><td>    0.0027720771</td><td>   -0.0526622452</td><td> -0.068398</td></tr>
<td>   -0.0079486091</td><td>    0.9951207697</td><td>   -0.0983436495</td><td>  0.084056</td></tr>
<td>    0.0521326778</td><td>    0.0986253992</td><td>    0.9937581268</td><td>  0.044039</td></tr>
<tr><td rowspan="3">Tango Top Fisheye</td><td rowspan="3"><SUP>TTF</SUP><B>T</B><SUB>B</SUB></td><td>    0.9995000221</td><td>    0.0130284988</td><td>   -0.0288090975</td><td> -0.014741</td></tr>
<td>   -0.0128514581</td><td>    0.9998974312</td><td>    0.0063219540</td><td>  0.208203</td></tr>
<td>    0.0288885081</td><td>   -0.0059485542</td><td>    0.9995649398</td><td> -0.001742</td></tr>
<tr><td rowspan="3">VI Sensor Left</td><td rowspan="3"><SUP>VL</SUP><B>T</B><SUB>B</SUB></td><td>    0.9991687124</td><td>   -0.0059124048</td><td>   -0.0403351908</td><td>  0.042704</td></tr>
<td>    0.0050322682</td><td>    0.9997477793</td><td>   -0.0218873038</td><td> -0.116821</td></tr>
<td>    0.0404544240</td><td>    0.0216661317</td><td>    0.9989464542</td><td> -0.019905</td></tr>
<tr><td rowspan="3">VI Sensor Right</td><td rowspan="3"><SUP>VR</SUP><B>T</B><SUB>B</SUB></td><td>    0.9990911633</td><td>   -0.0072415591</td><td>   -0.0420048470</td><td> -0.067457</td></tr>
<td>    0.0063429185</td><td>    0.9997489915</td><td>   -0.0214877011</td><td> -0.116480</td></tr>
<td>    0.0421499079</td><td>    0.0212017389</td><td>    0.9988863156</td><td> -0.020079</td></tr>
<tr><td rowspan="3">Tango Bottom IMU</td><td rowspan="3"><SUP>TBI</SUP><B>T</B><SUB>B</SUB></td><td>    0.9986085337</td><td>    0.0027720770</td><td>   -0.0526622452</td><td> -0.006998</td></tr>
<td>    0.0192066304</td><td>   -0.9491479460</td><td>    0.3142439848</td><td> -0.074008</td></tr>
<td>   -0.0491131534</td><td>   -0.3148181892</td><td>   -0.9478804808</td><td> -0.058834</td></tr>
<tr><td rowspan="3">Tango Top IMU</td><td rowspan="3"><SUP>TTI</SUP><B>T</B><SUB>B</SUB></td><td>    0.9995000221</td><td>    0.0130284988</td><td>   -0.0288090975</td><td> -0.003344</td></tr>
<td>    0.0200390427</td><td>   -0.9658149773</td><td>    0.2584567012</td><td> -0.203341</td></tr>
<td>   -0.0244569550</td><td>   -0.2589047853</td><td>   -0.9655931698</td><td> -0.049792</td></tr>
<tr><td rowspan="3">VI Sensor IMU</td><td rowspan="3"><SUP>VI</SUP><B>T</B><SUB>B</SUB></td><td>    0.9989551739</td><td>   -0.0016800380</td><td>   -0.0456698809</td><td> -0.031005</td></tr>
<td>    0.0005817624</td><td>    0.9997105684</td><td>   -0.0240508012</td><td> -0.125714</td></tr>
<td>    0.0456970689</td><td>    0.0239991032</td><td>    0.9986670221</td><td> -0.017107</td></tr>
<tr><td rowspan="3">Tango Bottom Pose</td><td rowspan="3"><SUP>TBP</SUP><B>T</B><SUB>B</SUB></td><td>    0.9986085337</td><td>    0.0027720770</td><td>   -0.0526622452</td><td> -0.006998</td></tr>
<td>    0.0192066304</td><td>   -0.9491479460</td><td>    0.3142439848</td><td> -0.074008</td></tr>
<td>   -0.0491131534</td><td>   -0.3148181892</td><td>   -0.9478804808</td><td> -0.058834</td></tr>
</table>

<h2 id="transformations-in-quaternion-form">Transformations in Quaternion Form</h2>

<p>The rotation matrix $\color{black}{R}$ is related to the unit
quaternion $\color{black}{(q_w, q_x, q_y, q_z)}$ via:
$$
\color{black}{
R = {\begin{pmatrix}
1 -2q_y^2-2q_z^2 &amp; 2q_xq_y - 2q_zq_w &amp; 2q_xq_z + 2q_yq_w\\
2q_xq_y + 2q_zq_w &amp; 1 - 2q_x^2 -2 q_z^2 &amp; 2q_yq_z -2 q_xq_w\\
2q_xq_z -2 q_yq_w &amp; 2q_yq_z + 2 q_xq_w &amp; 1-2q_x^2-2q_y^2\\
\end{pmatrix}}}
$$</p>


			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://daniilidis-group.github.io/penncosyvio/intrinsic_calib/" title="Intrinsic Calibration">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Intrinsic Calibration
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://daniilidis-group.github.io/penncosyvio/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;
            
            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }
        

        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
